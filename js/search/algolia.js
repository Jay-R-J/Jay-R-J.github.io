window.addEventListener("load",()=>{var t=GLOBAL_CONFIG.algolia;let{appId:e,apiKey:i,indexName:a,hitsPerPage:n=5,languages:s}=t;if(!e||!i||!a)return;let l,r=document.getElementById("search-mask"),o=document.querySelector("#algolia-search .search-dialog"),g=t=>{var e=t?"animateIn":"animateOut",i=t?"to_show 0.5s":"to_hide 0.5s";t=t?"titleScale 0.5s":"search_close .5s";btf[e](r,i),btf[e](o,t)},c=()=>{window.innerWidth<768&&o.style.setProperty("--search-height",window.innerHeight+"px")},d=()=>{btf.overflowPaddingR.add(),g(!0),P(!1),setTimeout(()=>{var t=document.querySelector("#algolia-search-input .ais-SearchBox-input");t&&t.focus()},100);let t=e=>{"Escape"===e.code&&(p(),document.removeEventListener("keydown",t))};document.addEventListener("keydown",t),c(),window.addEventListener("resize",c)},p=()=>{btf.overflowPaddingR.remove(),g(!1),window.removeEventListener("resize",c)},h=()=>{btf.addEventListenerPjax(document.querySelector("#search-button > .search"),"click",d)},u=t=>{if(!t)return"";let e="";if("string"==typeof t)e=t.trim();else if("object"==typeof t)if(void 0!==t.value){if(!(e=String(t.value).trim()))return""}else{if(t.matchedWords||t.matchLevel||void 0!==t.fullyHighlighted)return"";try{if("{}"===(e=JSON.stringify(t).trim())||"[]"===e||'""'===e)return""}catch(t){return""}}else{if(!t.toString||"function"!=typeof t.toString)return"";if("[object Object]"===(e=t.toString().trim())||"[object Array]"===e)return""}let i=(t=e.indexOf("<mark>"))-30,a=t+120,n="",s="",l=(i<=0?(i=0,a=140):n="...",a>e.length?a=e.length:s="...",e.substring(i,a));t=l.indexOf(">");var r=l.indexOf("<"),o=(r=(l=-1!==t&&(-1===r||t<r)?l.substring(t+1):l).lastIndexOf("<"),t=l.lastIndexOf(">"),-1!==r&&t<r&&(l=l.substring(0,r)),[]);let g="",c=0;for(;c<l.length;){if("<"===l[c])if("/"===l[c+1]){var d=l.indexOf(">",c);if(-1!==d){var p=l.substring(c+2,d);for(let t=o.length-1;0<=t;t--)if(o[t]===p){o.splice(t,1);break}g+=l.substring(c,d+1),c=d+1;continue}}else if("<!"===l.substr(c,2)||-1!==l.indexOf("/>",c)&&l.indexOf("/>",c)<l.indexOf(">",c)){if(-1!==(d=l.indexOf(">",c))){g+=l.substring(c,d+1),c=d+1;continue}}else{var h=l.indexOf(">",c);if(-1!==h){var u=l.substring(c+1,-1<l.indexOf(" ",c)&&l.indexOf(" ",c)<h?l.indexOf(" ",c):h).split(/\s/)[0];o.push(u),g+=l.substring(c,h+1),c=h+1;continue}}g+=l[c],c++}for(;0<o.length;){g+=`</${o.pop()}>`}return(0<i||n)&&(t=e.indexOf("<",0<i?i-30:0),r=e.indexOf("<mark>",0<i?i-30:0),-1!==t)&&(-1===r||t<r)&&(n="..."),l=g,""+n+l+s},m=t=>t?"string"==typeof t?t.trim():"object"==typeof t&&void 0!==t.value?String(t.value).trim():"":"";if(window["algoliasearch/lite"]&&"function"==typeof window["algoliasearch/lite"].liteClient)l=window["algoliasearch/lite"].liteClient(e,i);else{if("function"!=typeof window.algoliasearch)return;l=window.algoliasearch(e,i)}if(!l)return;let f,y="",P=t=>{var e=document.getElementById("loading-status");e&&(e.hidden=!t)},v={get searchInput(){return document.querySelector("#algolia-search-input .ais-SearchBox-input")},get hits(){return document.getElementById("algolia-hits")},get hitsEmpty(){return document.getElementById("algolia-hits-empty")},get hitsList(){return document.querySelector("#algolia-hits .ais-Hits-list")},get hitsWrapper(){return document.querySelector("#algolia-hits .ais-Hits")},get pagination(){return document.getElementById("algolia-pagination")},get paginationList(){return document.querySelector("#algolia-pagination .ais-Pagination-list")},get stats(){return document.querySelector("#algolia-info .ais-Stats-text")}},b=t=>{v.pagination.style.display=t?"":"none",v.stats.style.display=t?"":"none"},w=(t,e,i=0)=>{var a;0===t.length&&e?(v.hitsEmpty.textContent=s.hits_empty.replace(/\$\{query}/,e),v.hitsEmpty.style.display="",v.hitsWrapper.style.display="none",v.stats.style.display="none"):(v.hitsEmpty.style.display="none",a=t.map((t,e)=>{e=i*n+e+1;var a=t.permalink||GLOBAL_CONFIG.root+t.path,s=t._highlightResult||t;let l="";try{s.contentStripTruncate?l=u(s.contentStripTruncate):s.contentStrip?l=u(s.contentStrip):s.content?l=u(s.content):t.contentStripTruncate?l=u(t.contentStripTruncate):t.contentStrip?l=u(t.contentStrip):t.content&&(l=u(t.content))}catch(t){l=""}let r="no-title";try{s.title?r=m(s.title)||"no-title":t.title&&(r=m(t.title)||"no-title"),r&&"no-title"!==r||(r="string"==typeof t.title&&t.title.trim()?t.title.trim():t.title&&"object"==typeof t.title&&t.title.value&&String(t.title.value).trim()||"no-title")}catch(t){r="no-title"}return`\n        <li class="ais-Hits-item" value="${e}">\n          <a href="${a}" class="algolia-hit-item-link">\n            <span class="algolia-hits-item-title">${r}</span>\n            ${l?`<div class="algolia-hit-item-content">${l}</div>`:""}\n          </a>\n        </li>`}).join(""),v.hitsList.innerHTML=a,v.hitsWrapper.style.display=e?"":"none",0<t.length&&(v.stats.style.display=""))},x=(t,e)=>{if(e<=1)v.pagination.style.display="none",v.paginationList.innerHTML="";else{v.pagination.style.display="block";var i=0===t,a=t===e-1,n=window.innerWidth<768?3:5;let l=Math.max(0,t-Math.floor(n/2));var s=Math.min(e-1,l+n-1);s-l+1<n&&(l=Math.max(0,s-n+1));let r="";n<e&&0<l&&(r+='\n        <li class="ais-Pagination-item ais-Pagination-item--page">\n          <a class="ais-Pagination-link" aria-label="Page 1" href="#" data-page="0">1</a>\n        </li>',1<l)&&(r+='\n          <li class="ais-Pagination-item ais-Pagination-item--ellipsis">\n            <span class="ais-Pagination-link">...</span>\n          </li>');for(let e=l;e<=s;e++){r+=e===t?`\n          <li class="ais-Pagination-item ais-Pagination-item--page ais-Pagination-item--selected">\n            <span class="ais-Pagination-link" aria-label="Page ${e+1}">${e+1}</span>\n          </li>`:`\n          <li class="ais-Pagination-item ais-Pagination-item--page">\n            <a class="ais-Pagination-link" aria-label="Page ${e+1}" href="#" data-page="${e}">${e+1}</a>\n          </li>`}n<e&&s<e-1&&(s<e-2&&(r+='\n          <li class="ais-Pagination-item ais-Pagination-item--ellipsis">\n            <span class="ais-Pagination-link">...</span>\n          </li>'),r+=`\n        <li class="ais-Pagination-item ais-Pagination-item--page">\n          <a class="ais-Pagination-link" aria-label="Page ${e}" href="#" data-page="${e-1}">${e}</a>\n        </li>`),1<e?(v.paginationList.innerHTML=`\n            <li class="ais-Pagination-item ais-Pagination-item--previousPage ${i?"ais-Pagination-item--disabled":""}">\n              ${i?'<span class="ais-Pagination-link ais-Pagination-link--disabled" aria-label="Previous Page"><i class="fas fa-angle-left"></i></span>':`<a class="ais-Pagination-link" aria-label="Previous Page" href="#" data-page="${t-1}"><i class="fas fa-angle-left"></i></a>`}\n            </li>\n            ${r}\n            <li class="ais-Pagination-item ais-Pagination-item--nextPage ${a?"ais-Pagination-item--disabled":""}">\n              ${a?'<span class="ais-Pagination-link ais-Pagination-link--disabled" aria-label="Next Page"><i class="fas fa-angle-right"></i></span>':`<a class="ais-Pagination-link" aria-label="Next Page" href="#" data-page="${t+1}"><i class="fas fa-angle-right"></i></a>`}\n            </li>`,v.pagination.style.display=y?"":"none"):v.pagination.style.display="none"}},S=(t,e,i)=>{i?(i=s.hits_stats.replace(/\$\{hits}/,t).replace(/\$\{time}/,e),v.stats.innerHTML="<hr>"+i,v.stats.style.display=""):v.stats.style.display="none"},k=async(t,e=0)=>{if(t.trim()){P(!0),y=t;try{let o;if(l&&"function"==typeof l.search){o=(await l.search([{indexName:a,query:t,params:{page:e,hitsPerPage:n,highlightPreTag:"<mark>",highlightPostTag:"</mark>",attributesToHighlight:["title","content","contentStrip","contentStripTruncate"]}}])).results[0]}else{if(!l||"function"!=typeof l.initIndex)throw new Error("Algolia: No compatible search method available");var i=l.initIndex(a);o=await i.search(t,{page:e,hitsPerPage:n,highlightPreTag:"<mark>",highlightPostTag:"</mark>",attributesToHighlight:["title","content","contentStrip","contentStripTruncate"]})}w(o.hits||[],t,e);var s=o.nbHits<=n?1:o.nbPages||0,r=(x(e,s),S(o.nbHits||0,o.processingTimeMS||0,t),o.hits&&0<o.hits.length);b(r),window.pjax&&window.pjax.refresh(document.getElementById("algolia-hits"))}catch(i){w([],t,e),x(0,0),S(0,0,t)}finally{P(!1)}}else y="",w([],"",0),x(0,0),S(0,0,""),b(!1)};P(!1),v.searchInput&&v.searchInput.addEventListener("input",t=>{var e;t=t.target.value;e=t,t=300,clearTimeout(f),f=setTimeout(()=>k(e),t)}),(t=document.querySelector("#algolia-search-input .ais-SearchBox-form"))&&t.addEventListener("submit",t=>{t.preventDefault(),t=v.searchInput.value,k(t)}),v.pagination.addEventListener("click",t=>{t.preventDefault(),(t=t.target.closest("a[data-page]"))&&(t=parseInt(t.dataset.page,10),!isNaN(t))&&y&&k(y,t)}),b(!1),h(),r.addEventListener("click",p),document.querySelector("#algolia-search .search-close-button").addEventListener("click",p),window.addEventListener("pjax:complete",()=>{btf.isHidden(r)||p(),h()})});