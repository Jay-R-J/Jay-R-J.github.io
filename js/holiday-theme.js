window.holidayTheme={currentTheme:null,holidays:{springFestival:{name:"Êò•ËäÇ",start:"01-01",end:"01-15",style:{"--main-color":"#ff0000","--background-color":"rgba(255, 248, 220, 0.6)","--text-color":"#8b0000","--border-color":"#ff6b6b","--card-background":"rgba(255, 250, 205, 0.8)","--hover-color":"#ff4444"},className:"holiday-spring-festival"},nationalDay:{name:"ÂõΩÂ∫ÜËäÇ",start:"10-01",end:"10-07",style:{"--main-color":"#ff0000","--background-color":"rgba(240, 248, 255, 0.6)","--text-color":"#006400","--border-color":"#008000","--card-background":"rgba(240, 255, 240, 0.8)","--hover-color":"#009900"},className:"holiday-national-day"},christmas:{name:"Âú£ËØûËäÇ",start:"12-24",end:"12-26",style:{"--main-color":"#ff6b6b","--background-color":"rgba(240, 248, 255, 0.6)","--text-color":"#2c3e50","--border-color":"#9b59b6","--card-background":"rgba(255, 255, 255, 0.9)","--hover-color":"#e74c3c"},className:"holiday-christmas"}},checkHoliday:function(){var n,e,t,a=((t=new Date).getFullYear(),String(t.getMonth()+1).padStart(2,"0")),o=a+"-"+(t=String(t.getDate()).padStart(2,"0"));for([n,e]of Object.entries(this.holidays))if("springFestival"!==n&&o>=e.start&&o<=e.end)return e;var r=this.holidays.springFestival;return"01"===a&&"21"<=t||"02"===a&&t<="20"?r:null},applyHolidayTheme:function(n){if(n){for(var[e,t]of Object.entries(this.holidays))document.body.classList.remove(t.className);document.body.classList.add(n.className);var a,o,r=document.documentElement;for([a,o]of Object.entries(n.style))r.style.setProperty(a,o);this.addHolidayDecorations(n.className),this.currentTheme=n}},closeHolidayTheme:function(){for(var[n,e]of Object.entries(this.holidays))document.body.classList.remove(e.className);document.querySelectorAll(".holiday-decoration").forEach(n=>n.remove());var t,a,o=document.documentElement;for([t,a]of Object.entries({"--main-color":"","--background-color":"","--text-color":"","--border-color":"","--card-background":"","--hover-color":""}))o.style.removeProperty(t);this.currentTheme=null},addHolidayDecorations:function(n){switch(document.querySelectorAll(".holiday-decoration").forEach(n=>n.remove()),n){case"holiday-spring-festival":this.addSpringFestivalDecorations();break;case"holiday-national-day":this.addNationalDayDecorations();break;case"holiday-christmas":this.addChristmasDecorations()}},addSpringFestivalDecorations:function(){var n,e=document.createElement("div");e.className="holiday-decoration lanterns",e.innerHTML="\n        <style>\n          .lanterns {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .lantern {\n            position: absolute;\n            width: 80px;\n            height: 100px;\n            background: linear-gradient(135deg, #ff6b6b, #ff8e8e, #ff6b6b);\n            border-radius: 50% 50% 0 0;\n            animation: float 4s ease-in-out infinite;\n            box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);\n          }\n          .lantern::before {\n            content: 'Á¶è';\n            position: absolute;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 30px;\n            font-weight: bold;\n            color: #ffd700;\n            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);\n          }\n          .lantern::after {\n            content: '';\n            position: absolute;\n            top: -20px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 20px;\n            height: 20px;\n            background: #ffd93d;\n            border-radius: 50%;\n            box-shadow: 0 0 10px rgba(255, 217, 61, 0.8);\n          }\n          @keyframes float {\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\n            50% { transform: translateY(-30px) rotate(5deg); }\n          }\n          \n          /* 2. Êò•ËäÇËÉåÊôØÂõæÊ°à */\n          .spring-pattern {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background-image: \n              radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 80% 80%, rgba(255, 0, 0, 0.1) 0%, transparent 50%);\n          }\n          \n          /* 3. ÂØπËÅîÊïàÊûú */\n          .couplet {\n            position: fixed;\n            top: 50%;\n            width: 120px;\n            height: 300px;\n            background: linear-gradient(180deg, #8b0000, #ff0000);\n            color: #ffd700;\n            font-size: 24px;\n            font-weight: bold;\n            text-align: center;\n            padding: 20px;\n            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);\n            z-index: 9998;\n          }\n          .couplet-left {\n            left: 20px;\n            transform: translateY(-50%);\n          }\n          .couplet-right {\n            right: 20px;\n            transform: translateY(-50%);\n          }\n        </style>\n      ";for(let n=0;n<15;n++){var t=document.createElement("div");t.className="lantern",t.style.left=100*Math.random()+"%",t.style.top=70*Math.random()+"%",t.style.animationDelay=4*Math.random()+"s",e.appendChild(t)}document.body.appendChild(e),(n=((n=((n=document.createElement("div")).className="holiday-decoration spring-pattern",document.body.appendChild(n),document.createElement("div"))).className="holiday-decoration couplet couplet-left",n.innerHTML="‰∏á‰∫ãÂ¶ÇÊÑè<br>Ê≠•Ê≠•È´òÂçá",document.body.appendChild(n),document.createElement("div"))).className="holiday-decoration couplet couplet-right",n.innerHTML="‰∏ÄÂ∏ÜÈ£éÈ°∫<br>Ë¥¢Ê∫êÂπøËøõ",document.body.appendChild(n)},addNationalDayDecorations:function(){var n=document.createElement("div");n.className="holiday-decoration flags",n.innerHTML="\n        <style>\n          .flags {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .flag {\n            position: absolute;\n            width: 60px;\n            height: 40px;\n            background: radial-gradient(circle at 20% 30%, #ff0000 10%, transparent 10%),\n                        linear-gradient(to bottom, #ff0000 33%, #ffffff 33%, #ffffff 66%, #0000ff 66%);\n            border-radius: 3px;\n            animation: wave 3s ease-in-out infinite;\n            box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);\n          }\n          @keyframes wave {\n            0%, 100% { transform: rotate(0deg) scale(1); }\n            50% { transform: rotate(10deg) scale(1.1); }\n          }\n          \n          /* 2. ÂõΩÂ∫ÜËÉåÊôØ */\n          .national-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background-image: \n              radial-gradient(circle at 30% 30%, rgba(255, 0, 0, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 70% 70%, rgba(0, 128, 0, 0.1) 0%, transparent 50%);\n          }\n          \n          /* 3. ÁÉüËä±ÊïàÊûú */\n          .fireworks {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9999;\n          }\n          .firework {\n            position: absolute;\n            width: 4px;\n            height: 4px;\n            background: #ffd700;\n            border-radius: 50%;\n            animation: explode 2s ease-out infinite;\n          }\n          @keyframes explode {\n            0% { transform: scale(0); opacity: 1; }\n            50% { transform: scale(1); opacity: 0.8; }\n            100% { transform: scale(30); opacity: 0; }\n          }\n        </style>\n      ";for(let t=0;t<20;t++){var e=document.createElement("div");e.className="flag",e.style.left=100*Math.random()+"%",e.style.top=80*Math.random()+"%",e.style.animationDelay=3*Math.random()+"s",n.appendChild(e)}document.body.appendChild(n);var t=document.createElement("div");t.className="holiday-decoration national-background",document.body.appendChild(t);let a=document.createElement("div");a.className="holiday-decoration fireworks",document.body.appendChild(a),setInterval(()=>{let n=document.createElement("div");n.className="firework",n.style.left=100*Math.random()+"%",n.style.top=50*Math.random()+"%",n.style.background=`hsl(${360*Math.random()}, 100%, 70%)`,a.appendChild(n),setTimeout(()=>{n.remove()},2e3)},500)},addChristmasDecorations:function(){var n=document.createElement("div");n.className="holiday-decoration snowflakes",n.innerHTML="\n        <style>\n          .snowflakes {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .snowflake {\n            position: absolute;\n            width: 12px;\n            height: 12px;\n            background: white;\n            border-radius: 50%;\n            opacity: 0.9;\n            animation: fall linear infinite;\n            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\n          }\n          .snowflake::before, .snowflake::after {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            background: white;\n            border-radius: 50%;\n          }\n          .snowflake::before {\n            transform: translateX(-50%);\n          }\n          .snowflake::after {\n            transform: translateY(-50%);\n          }\n          @keyframes fall {\n            0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }\n            10% { opacity: 0.9; }\n            90% { opacity: 0.9; }\n            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }\n          }\n          \n          /* 2. Âú£ËØûËÉåÊôØ */\n          .christmas-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background: linear-gradient(135deg, rgba(0, 0, 139, 0.1) 0%, rgba(0, 128, 0, 0.1) 100%);\n          }\n          \n          /* 3. Âú£ËØûÊ†ë */\n          .christmas-tree {\n            position: fixed;\n            bottom: 0;\n            right: 120px;\n            width: 150px;\n            height: 200px;\n            pointer-events: none;\n            z-index: 9998;\n          }\n          .tree-part {\n            position: absolute;\n            width: 0;\n            height: 0;\n            border-left: 75px solid transparent;\n            border-right: 75px solid transparent;\n            border-bottom: 100px solid green;\n          }\n          .tree-part.top {\n            bottom: 100px;\n          }\n          .tree-part.middle {\n            bottom: 50px;\n          }\n          .tree-part.bottom {\n            bottom: 0;\n          }\n          .tree-trunk {\n            position: absolute;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 30px;\n            height: 50px;\n            background: brown;\n          }\n          .tree-ornament {\n            position: absolute;\n            width: 15px;\n            height: 15px;\n            background: #ff0000;\n            border-radius: 50%;\n            animation: twinkle 2s ease-in-out infinite;\n          }\n          @keyframes twinkle {\n            0%, 100% { opacity: 0.5; transform: scale(1); }\n            50% { opacity: 1; transform: scale(1.2); }\n          }\n        </style>\n      ";for(let t=0;t<80;t++){var e=document.createElement("div");e.className="snowflake",e.style.left=100*Math.random()+"%",e.style.animationDuration=5*Math.random()+3+"s",e.style.animationDelay=5*Math.random()+"s",e.style.transform=`scale(${.8*Math.random()+.5})`,n.appendChild(e)}document.body.appendChild(n);var t,a=((t=document.createElement("div")).className="holiday-decoration christmas-background",document.body.appendChild(t),document.createElement("div"));(t=((t=((t=((t=(a.className="holiday-decoration christmas-tree",document.createElement("div"))).className="tree-part top",a.appendChild(t),document.createElement("div"))).className="tree-part middle",a.appendChild(t),document.createElement("div"))).className="tree-part bottom",a.appendChild(t),document.createElement("div"))).className="tree-trunk",a.appendChild(t);for(let n=0;n<8;n++){var o=document.createElement("div");o.className="tree-ornament",o.style.left=120*Math.random()+15+"px",o.style.top=180*Math.random()+"px",o.style.background=`hsl(${360*Math.random()}, 100%, 50%)`,o.style.animationDelay=2*Math.random()+"s",a.appendChild(o)}document.body.appendChild(a)},manualSwitch:function(n){(n=this.holidays[n])&&this.applyHolidayTheme(n)},showThemes:function(){for(var[n,e]of Object.entries(this.holidays));},init:function(){var n=this.checkHoliday();this.applyHolidayTheme(n),this.showThemes(),this.addDebugButton()},isThemeApplied:function(){for(var[n,e]of Object.entries(this.holidays))if(document.body.classList.contains(e.className))return e;return null},updateButtonState:function(n){var e=this.isThemeApplied();(this.currentTheme=e)?(n.textContent="üéÑ ÂÖ≥Èó≠‰∏ªÈ¢ò",n.style.background="#4ecdc4"):(n.textContent="üéÑ ËäÇÊó•‰∏ªÈ¢ò",n.style.background="#ff6b6b")},addDebugButton:function(){let n=document.createElement("button");n.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        left: 10px;\n        z-index: 9999;\n        padding: 8px 12px;\n        background: #ff6b6b;\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        font-size: 12px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n      ",this.updateButtonState(n),n.onclick=()=>{this.currentTheme?(this.closeHolidayTheme(),n.textContent="üéÑ ËäÇÊó•‰∏ªÈ¢ò",n.style.background="#ff6b6b"):(this.manualSwitch("christmas"),n.textContent="üéÑ ÂÖ≥Èó≠‰∏ªÈ¢ò",n.style.background="#4ecdc4")},document.body.appendChild(n),window.Pjax&&document.addEventListener("pjax:complete",()=>{this.updateButtonState(n)}),this.themeButton=n}},window.holidayTheme.showThemes(),window.holidayTheme.addDebugButton();