!function(){const n={currentTheme:null,holidays:{springFestival:{name:"æ˜¥èŠ‚",start:"01-01",end:"01-15",style:{"--main-color":"#ff0000","--background-color":"rgba(255, 248, 220, 0.6)","--text-color":"#8b0000","--border-color":"#ff6b6b","--card-background":"rgba(255, 250, 205, 0.8)","--hover-color":"#ff4444"},className:"holiday-spring-festival"},nationalDay:{name:"å›½åº†èŠ‚",start:"10-01",end:"10-07",style:{"--main-color":"#ff0000","--background-color":"rgba(240, 248, 255, 0.6)","--text-color":"#006400","--border-color":"#008000","--card-background":"rgba(240, 255, 240, 0.8)","--hover-color":"#009900"},className:"holiday-national-day"},christmas:{name:"åœ£è¯èŠ‚",start:"12-24",end:"12-26",style:{"--main-color":"#ff6b6b","--background-color":"rgba(240, 248, 255, 0.6)","--text-color":"#2c3e50","--border-color":"#9b59b6","--card-background":"rgba(255, 255, 255, 0.9)","--hover-color":"#e74c3c"},className:"holiday-christmas"}},checkHoliday:function(){const n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),a=`${t}-${o}`;console.log("ğŸ„ èŠ‚æ—¥ä¸»é¢˜è°ƒè¯•ä¿¡æ¯:"),console.log(`å½“å‰æ—¥æœŸ: ${e}-${a}`);for(const[n,e]of Object.entries(this.holidays))if("springFestival"!==n&&(console.log(`æ£€æŸ¥èŠ‚æ—¥: ${e.name} (${n})ï¼Œæ—¥æœŸèŒƒå›´: ${e.start} - ${e.end}`),a>=e.start&&a<=e.end))return console.log(`âœ… åŒ¹é…åˆ°èŠ‚æ—¥: ${e.name}`),e;const i=this.holidays.springFestival;return console.log(`æ£€æŸ¥èŠ‚æ—¥: ${i.name} (springFestival)`),"01"===t&&o>="21"||"02"===t&&o<="20"?(console.log(`âœ… åŒ¹é…åˆ°èŠ‚æ—¥: ${i.name}`),i):(console.log("âŒ æœªåŒ¹é…åˆ°ä»»ä½•èŠ‚æ—¥"),null)},applyHolidayTheme:function(n){if(!n)return void console.log("ğŸ„ æ²¡æœ‰è¦åº”ç”¨çš„èŠ‚æ—¥ä¸»é¢˜");console.log(`ğŸ„ åº”ç”¨èŠ‚æ—¥ä¸»é¢˜: ${n.name}`);for(const[n,e]of Object.entries(this.holidays))document.body.classList.remove(e.className);document.body.classList.add(n.className),console.log(`âœ… æ·»åŠ ç±»å: ${n.className}`);const e=document.documentElement;for(const[t,o]of Object.entries(n.style))e.style.setProperty(t,o),console.log(`âœ… è®¾ç½®æ ·å¼: ${t} = ${o}`);this.addHolidayDecorations(n.className),this.currentTheme=n},closeHolidayTheme:function(){console.log("ğŸ„ å…³é—­èŠ‚æ—¥ä¸»é¢˜");for(const[n,e]of Object.entries(this.holidays))document.body.classList.remove(e.className);document.querySelectorAll(".holiday-decoration").forEach(n=>n.remove()),console.log("âœ… ç§»é™¤æ‰€æœ‰èŠ‚æ—¥è£…é¥°");const n=document.documentElement,e={"--main-color":"","--background-color":"","--text-color":"","--border-color":"","--card-background":"","--hover-color":""};for(const[t,o]of Object.entries(e))n.style.removeProperty(t),console.log(`âœ… é‡ç½®æ ·å¼: ${t}`);this.currentTheme=null},addHolidayDecorations:function(n){switch(document.querySelectorAll(".holiday-decoration").forEach(n=>n.remove()),console.log("âœ… ç§»é™¤æ—§è£…é¥°"),console.log(`ğŸ„ æ·»åŠ èŠ‚æ—¥è£…é¥°: ${n}`),n){case"holiday-spring-festival":this.addSpringFestivalDecorations();break;case"holiday-national-day":this.addNationalDayDecorations();break;case"holiday-christmas":this.addChristmasDecorations();break;default:console.log(`âŒ æœªçŸ¥çš„èŠ‚æ—¥è£…é¥°ç±»å‹: ${n}`)}},addSpringFestivalDecorations:function(){console.log("âœ… æ·»åŠ æ˜¥èŠ‚è£…é¥°æ•ˆæœ");const n=document.createElement("div");n.className="holiday-decoration lanterns",n.innerHTML="\n        <style>\n          .lanterns {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .lantern {\n            position: absolute;\n            width: 80px;\n            height: 100px;\n            background: linear-gradient(135deg, #ff6b6b, #ff8e8e, #ff6b6b);\n            border-radius: 50% 50% 0 0;\n            animation: float 4s ease-in-out infinite;\n            box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);\n          }\n          .lantern::before {\n            content: 'ç¦';\n            position: absolute;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 30px;\n            font-weight: bold;\n            color: #ffd700;\n            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);\n          }\n          .lantern::after {\n            content: '';\n            position: absolute;\n            top: -20px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 20px;\n            height: 20px;\n            background: #ffd93d;\n            border-radius: 50%;\n            box-shadow: 0 0 10px rgba(255, 217, 61, 0.8);\n          }\n          @keyframes float {\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\n            50% { transform: translateY(-30px) rotate(5deg); }\n          }\n          \n          /* 2. æ˜¥èŠ‚èƒŒæ™¯å›¾æ¡ˆ */\n          .spring-pattern {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background-image: \n              radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 80% 80%, rgba(255, 0, 0, 0.1) 0%, transparent 50%);\n          }\n          \n          /* 3. å¯¹è”æ•ˆæœ */\n          .couplet {\n            position: fixed;\n            top: 50%;\n            width: 120px;\n            height: 300px;\n            background: linear-gradient(180deg, #8b0000, #ff0000);\n            color: #ffd700;\n            font-size: 24px;\n            font-weight: bold;\n            text-align: center;\n            padding: 20px;\n            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);\n            z-index: 9998;\n          }\n          .couplet-left {\n            left: 20px;\n            transform: translateY(-50%);\n          }\n          .couplet-right {\n            right: 20px;\n            transform: translateY(-50%);\n          }\n        </style>\n      ";for(let e=0;e<15;e++){const e=document.createElement("div");e.className="lantern",e.style.left=100*Math.random()+"%",e.style.top=70*Math.random()+"%",e.style.animationDelay=4*Math.random()+"s",n.appendChild(e)}document.body.appendChild(n);const e=document.createElement("div");e.className="holiday-decoration spring-pattern",document.body.appendChild(e);const t=document.createElement("div");t.className="holiday-decoration couplet couplet-left",t.innerHTML="ä¸‡äº‹å¦‚æ„<br>æ­¥æ­¥é«˜å‡",document.body.appendChild(t);const o=document.createElement("div");o.className="holiday-decoration couplet couplet-right",o.innerHTML="ä¸€å¸†é£é¡º<br>è´¢æºå¹¿è¿›",document.body.appendChild(o)},addNationalDayDecorations:function(){console.log("âœ… æ·»åŠ å›½åº†èŠ‚è£…é¥°æ•ˆæœ");const n=document.createElement("div");n.className="holiday-decoration flags",n.innerHTML="\n        <style>\n          .flags {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .flag {\n            position: absolute;\n            width: 60px;\n            height: 40px;\n            background: radial-gradient(circle at 20% 30%, #ff0000 10%, transparent 10%),\n                        linear-gradient(to bottom, #ff0000 33%, #ffffff 33%, #ffffff 66%, #0000ff 66%);\n            border-radius: 3px;\n            animation: wave 3s ease-in-out infinite;\n            box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);\n          }\n          @keyframes wave {\n            0%, 100% { transform: rotate(0deg) scale(1); }\n            50% { transform: rotate(10deg) scale(1.1); }\n          }\n          \n          /* 2. å›½åº†èƒŒæ™¯ */\n          .national-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background-image: \n              radial-gradient(circle at 30% 30%, rgba(255, 0, 0, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 70% 70%, rgba(0, 128, 0, 0.1) 0%, transparent 50%);\n          }\n          \n          /* 3. çƒŸèŠ±æ•ˆæœ */\n          .fireworks {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9999;\n          }\n          .firework {\n            position: absolute;\n            width: 4px;\n            height: 4px;\n            background: #ffd700;\n            border-radius: 50%;\n            animation: explode 2s ease-out infinite;\n          }\n          @keyframes explode {\n            0% { transform: scale(0); opacity: 1; }\n            50% { transform: scale(1); opacity: 0.8; }\n            100% { transform: scale(30); opacity: 0; }\n          }\n        </style>\n      ";for(let e=0;e<20;e++){const e=document.createElement("div");e.className="flag",e.style.left=100*Math.random()+"%",e.style.top=80*Math.random()+"%",e.style.animationDelay=3*Math.random()+"s",n.appendChild(e)}document.body.appendChild(n);const e=document.createElement("div");e.className="holiday-decoration national-background",document.body.appendChild(e);const t=document.createElement("div");t.className="holiday-decoration fireworks",document.body.appendChild(t),setInterval(()=>{const n=document.createElement("div");n.className="firework",n.style.left=100*Math.random()+"%",n.style.top=50*Math.random()+"%",n.style.background=`hsl(${360*Math.random()}, 100%, 70%)`,t.appendChild(n),setTimeout(()=>{n.remove()},2e3)},500)},addChristmasDecorations:function(){console.log("âœ… æ·»åŠ åœ£è¯èŠ‚è£…é¥°æ•ˆæœ");const n=document.createElement("div");n.className="holiday-decoration snowflakes",n.innerHTML="\n        <style>\n          .snowflakes {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9998;\n            overflow: hidden;\n          }\n          .snowflake {\n            position: absolute;\n            width: 12px;\n            height: 12px;\n            background: white;\n            border-radius: 50%;\n            opacity: 0.9;\n            animation: fall linear infinite;\n            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\n          }\n          .snowflake::before, .snowflake::after {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            background: white;\n            border-radius: 50%;\n          }\n          .snowflake::before {\n            transform: translateX(-50%);\n          }\n          .snowflake::after {\n            transform: translateY(-50%);\n          }\n          @keyframes fall {\n            0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }\n            10% { opacity: 0.9; }\n            90% { opacity: 0.9; }\n            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }\n          }\n          \n          /* 2. åœ£è¯èƒŒæ™¯ */\n          .christmas-background {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            z-index: 9997;\n            background: linear-gradient(135deg, rgba(0, 0, 139, 0.1) 0%, rgba(0, 128, 0, 0.1) 100%);\n          }\n          \n          /* 3. åœ£è¯æ ‘ */\n          .christmas-tree {\n            position: fixed;\n            bottom: 0;\n            right: 120px;\n            width: 150px;\n            height: 200px;\n            pointer-events: none;\n            z-index: 9998;\n          }\n          .tree-part {\n            position: absolute;\n            width: 0;\n            height: 0;\n            border-left: 75px solid transparent;\n            border-right: 75px solid transparent;\n            border-bottom: 100px solid green;\n          }\n          .tree-part.top {\n            bottom: 100px;\n          }\n          .tree-part.middle {\n            bottom: 50px;\n          }\n          .tree-part.bottom {\n            bottom: 0;\n          }\n          .tree-trunk {\n            position: absolute;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 30px;\n            height: 50px;\n            background: brown;\n          }\n          .tree-ornament {\n            position: absolute;\n            width: 15px;\n            height: 15px;\n            background: #ff0000;\n            border-radius: 50%;\n            animation: twinkle 2s ease-in-out infinite;\n          }\n          @keyframes twinkle {\n            0%, 100% { opacity: 0.5; transform: scale(1); }\n            50% { opacity: 1; transform: scale(1.2); }\n          }\n        </style>\n      ";for(let e=0;e<80;e++){const e=document.createElement("div");e.className="snowflake",e.style.left=100*Math.random()+"%",e.style.animationDuration=5*Math.random()+3+"s",e.style.animationDelay=5*Math.random()+"s",e.style.transform=`scale(${.8*Math.random()+.5})`,n.appendChild(e)}document.body.appendChild(n);const e=document.createElement("div");e.className="holiday-decoration christmas-background",document.body.appendChild(e);const t=document.createElement("div");t.className="holiday-decoration christmas-tree";const o=document.createElement("div");o.className="tree-part top",t.appendChild(o);const a=document.createElement("div");a.className="tree-part middle",t.appendChild(a);const i=document.createElement("div");i.className="tree-part bottom",t.appendChild(i);const r=document.createElement("div");r.className="tree-trunk",t.appendChild(r);for(let n=0;n<8;n++){const n=document.createElement("div");n.className="tree-ornament",n.style.left=120*Math.random()+15+"px",n.style.top=180*Math.random()+"px",n.style.background=`hsl(${360*Math.random()}, 100%, 50%)`,n.style.animationDelay=2*Math.random()+"s",t.appendChild(n)}document.body.appendChild(t)},manualSwitch:function(n){console.log(`ğŸ„ æ‰‹åŠ¨åˆ‡æ¢ä¸»é¢˜: ${n}`);const e=this.holidays[n];e?(this.applyHolidayTheme(e),console.log(`âœ… å·²åˆ‡æ¢åˆ° ${e.name} ä¸»é¢˜`)):(console.error(`âŒ æ‰¾ä¸åˆ°ä¸»é¢˜: ${n}`),console.log(`å¯ç”¨ä¸»é¢˜: ${Object.keys(this.holidays).join(", ")}`))},showThemes:function(){console.log("ğŸ„ å¯ç”¨èŠ‚æ—¥ä¸»é¢˜:");for(const[n,e]of Object.entries(this.holidays))console.log(`${n}: ${e.name} (${e.start} - ${e.end})`)},init:function(){console.log("ğŸ„ åˆå§‹åŒ–èŠ‚æ—¥ä¸»é¢˜ç³»ç»Ÿ");const n=this.checkHoliday();this.applyHolidayTheme(n),this.showThemes(),this.addDebugButton()},isThemeApplied:function(){for(const[n,e]of Object.entries(this.holidays))if(document.body.classList.contains(e.className))return e;return null},updateButtonState:function(n){const e=this.isThemeApplied();this.currentTheme=e,e?(n.textContent="ğŸ„ å…³é—­ä¸»é¢˜",n.style.background="#4ecdc4"):(n.textContent="ğŸ„ èŠ‚æ—¥ä¸»é¢˜",n.style.background="#ff6b6b")},addDebugButton:function(){console.log("ğŸ„ æ·»åŠ èŠ‚æ—¥ä¸»é¢˜æŒ‰é’®");const n=document.createElement("button");n.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        left: 10px;\n        z-index: 9999;\n        padding: 8px 12px;\n        background: #ff6b6b;\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        font-size: 12px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n      ",this.updateButtonState(n),n.onclick=()=>{this.currentTheme?(this.closeHolidayTheme(),n.textContent="ğŸ„ èŠ‚æ—¥ä¸»é¢˜",n.style.background="#ff6b6b",console.log("âœ… å·²å…³é—­èŠ‚æ—¥ä¸»é¢˜")):(this.manualSwitch("christmas"),n.textContent="ğŸ„ å…³é—­ä¸»é¢˜",n.style.background="#4ecdc4",console.log("âœ… å·²å¼€å¯åœ£è¯èŠ‚ä¸»é¢˜"))},document.body.appendChild(n),window.Pjax&&document.addEventListener("pjax:complete",()=>{console.log("ğŸ„ Pjaxå¯¼èˆªå®Œæˆï¼Œæ›´æ–°æŒ‰é’®çŠ¶æ€"),this.updateButtonState(n)}),this.themeButton=n}};window.holidayTheme=n,window.holidayTheme.showThemes(),window.holidayTheme.addDebugButton(),console.log("ğŸ„ èŠ‚æ—¥ä¸»é¢˜ç³»ç»Ÿå·²åŠ è½½å®Œæˆï¼"),console.log("èŠ‚æ—¥ä¸»é¢˜å·²è®¾ç½®ä¸ºæ‰‹åŠ¨æ¨¡å¼ï¼Œä¸ä¼šè‡ªåŠ¨å¼€å¯"),console.log("ç‚¹å‡»é¡µé¢å³ä¸‹è§’çš„ğŸ„ èŠ‚æ—¥ä¸»é¢˜æŒ‰é’®æ‰‹åŠ¨åˆ‡æ¢ä¸»é¢˜çŠ¶æ€"),console.log('æˆ–ä½¿ç”¨å‘½ä»¤: window.holidayTheme.manualSwitch("ä¸»é¢˜åç§°")'),console.log("å¯ç”¨ä¸»é¢˜: springFestival, nationalDay, christmas"),console.log("å…³é—­ä¸»é¢˜: window.holidayTheme.closeHolidayTheme()")}();