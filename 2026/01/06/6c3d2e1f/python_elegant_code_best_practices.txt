# Pythonä¼˜é›…ä»£ç æœ€ä½³å®è·µ

## ğŸ“‹ ç›®å½•

1. [éµå¾ªPEP 8è§„èŒƒ](#1-éµå¾ªpep-8è§„èŒƒ)
2. [å……åˆ†åˆ©ç”¨Pythonç‰¹æ€§](#2-å……åˆ†åˆ©ç”¨pythonç‰¹æ€§)
3. [å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ](#3-å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ)
4. [å¼‚å¸¸å¤„ç†](#4-å¼‚å¸¸å¤„ç†)
5. [æ¨¡å—åŒ–è®¾è®¡](#5-æ¨¡å—åŒ–è®¾è®¡)
6. [ä»£ç å¯è¯»æ€§](#6-ä»£ç å¯è¯»æ€§)
7. [æ€§èƒ½ä¼˜åŒ–](#7-æ€§èƒ½ä¼˜åŒ–)
8. [ä¸Šä¸‹æ–‡ç®¡ç†å™¨](#8-ä¸Šä¸‹æ–‡ç®¡ç†å™¨)
9. [æµ‹è¯•ä½ çš„ä»£ç ](#9-æµ‹è¯•ä½ çš„ä»£ç )
10. [ä»£ç è´¨é‡å·¥å…·](#10-ä»£ç è´¨é‡å·¥å…·)
11. [æŒç»­å­¦ä¹ ](#11-æŒç»­å­¦ä¹ )

---

## 1. éµå¾ªPEP 8è§„èŒƒ

### å‘½åè§„èŒƒ
- **å˜é‡åå’Œå‡½æ•°å**ï¼šä½¿ç”¨ `snake_case`ï¼ˆå°å†™å­—æ¯+ä¸‹åˆ’çº¿ï¼‰
- **ç±»å**ï¼šä½¿ç”¨ `PascalCase`ï¼ˆé¦–å­—æ¯å¤§å†™+æ— ä¸‹åˆ’çº¿ï¼‰
- **å¸¸é‡**ï¼šä½¿ç”¨ `ALL_CAPS`ï¼ˆå…¨å¤§å†™+ä¸‹åˆ’çº¿ï¼‰
- **æ¨¡å—å**ï¼šä½¿ç”¨å°å†™å­—æ¯ï¼Œé¿å…ä½¿ç”¨ä¸‹åˆ’çº¿
- **åŒ…å**ï¼šä½¿ç”¨ç®€çŸ­çš„å°å†™å­—æ¯ï¼Œé¿å…ä½¿ç”¨ä¸‹åˆ’çº¿

### ä»£ç å¸ƒå±€
- æ¯è¡Œä¸è¶…è¿‡79ä¸ªå­—ç¬¦
- å‡½æ•°å’Œç±»ä¹‹é—´ç©ºä¸¤è¡Œ
- å‡½æ•°å†…éƒ¨é€»è¾‘å—ä¹‹é—´ç©ºä¸€è¡Œ
- ä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›ï¼Œä¸ä½¿ç”¨åˆ¶è¡¨ç¬¦
- äºŒå…ƒæ“ä½œç¬¦å‰ååŠ ç©ºæ ¼
- é€—å·ã€å†’å·ã€åˆ†å·å‰ä¸ç©ºæ ¼ï¼ŒååŠ ç©ºæ ¼

---

## 2. å……åˆ†åˆ©ç”¨Pythonç‰¹æ€§

### æ¨å¯¼å¼ï¼ˆComprehensionsï¼‰
```python
# åˆ—è¡¨æ¨å¯¼å¼
squares = [num ** 2 for num in range(10) if num % 2 == 0]

# å­—å…¸æ¨å¯¼å¼
word_lengths = {word: len(word) for word in ["apple", "banana", "cherry"]}

# é›†åˆæ¨å¯¼å¼
unique_lengths = {len(word) for word in ["apple", "banana", "cherry"]}

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆå†…å­˜é«˜æ•ˆï¼‰
sum_of_squares = sum(num ** 2 for num in range(1000000))
```

### Python 3.8+ æ–°ç‰¹æ€§

#### æµ·è±¡è¿ç®—ç¬¦ï¼ˆWalrus Operatorï¼‰
```python
# ä¸ä¼˜é›…
user_input = input("Enter something: ")
if user_input:
    print(f"You entered: {user_input}")

# ä¼˜é›…
if (user_input := input("Enter something: ")):
    print(f"You entered: {user_input}")

# å®é™…åº”ç”¨ï¼šå¤„ç†å¤šè¡Œè¾“å…¥
while (line := input("Enter a line (or 'quit' to exit): ")) != "quit":
    print(f"Processing: {line}")
```

#### ä»…é™ä½ç½®å‚æ•°
```python
# åªæœ‰nameæ˜¯ä½ç½®å‚æ•°ï¼Œå…¶ä»–æ˜¯å…³é”®å­—å‚æ•°
def greet(name, /, greeting="Hello", *, punctuation="."):
    print(f"{greeting}, {name}{punctuation}")
```

#### åˆå¹¶å­—å…¸ä¸æ›´æ–°å­—å…¸
```python
# Python 3.5+
merged = {**dict1, **dict2}

# Python 3.9+
merged = dict1 | dict2  # åˆå¹¶ä¸¤ä¸ªå­—å…¸
dict1 |= dict2  # åŸåœ°æ›´æ–°å­—å…¸
```

#### ç±»å‹æ³¨è§£æ”¹è¿›ï¼ˆPython 3.9+ï¼‰
```python
# Python 3.8åŠä»¥å‰
from typing import List, Dict, Optional

def process_items(items: List[str], threshold: int = 10) -> Dict[str, int]:
    pass

# Python 3.9+
def process_items(items: list[str], threshold: int = 10) -> dict[str, int]:
    pass
```

#### ç»“æ„åŒ–æ¨¡å¼åŒ¹é…ï¼ˆPython 3.10+ï¼‰
```python
def process_data(data):
    match data:
        case 0:
            print("æ•°æ®ä¸ºé›¶")
        case 1 | 2:
            print("æ•°æ®ä¸º1æˆ–2")
        case list() if len(data) > 0:
            print(f"éç©ºåˆ—è¡¨ï¼Œé•¿åº¦: {len(data)}")
        case dict(key=value):
            print(f"å­—å…¸åŒ…å«key: {value}")
        case _:
            print("å…¶ä»–ç±»å‹æ•°æ®")
```

#### æ–°å­—ç¬¦ä¸²æ–¹æ³•ï¼ˆPython 3.9+ï¼‰
```python
# åˆ é™¤å‰ç¼€å’Œåç¼€
s = "Hello, World!"
print(s.removeprefix("Hello, "))  # è¾“å‡º: World!
print(s.removesuffix("!"))  # è¾“å‡º: Hello, World

# å¤§å°å†™è½¬æ¢å¢å¼º
print("python".capitalize())  # Python
print("PYTHON".casefold())  # python
```

#### ç±»å‹è”åˆï¼ˆPython 3.10+ï¼‰
```python
# Python 3.8-3.9
from typing import Union

def process_value(value: Union[int, str, None]) -> None:
    pass

# Python 3.10+
def process_value(value: int | str | None) -> None:
    pass
```

### è§£åŒ…ï¼ˆUnpackingï¼‰
```python
# ä¸ä¼˜é›…
a = my_list[0]
b = my_list[1]
c = my_list[2]

# ä¼˜é›…
a, b, c = my_list

# æ‰©å±•è§£åŒ…
a, b, *rest = my_list
```

---

## 3. å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ

### å‡½æ•°åº”è¯¥çŸ­å°ç²¾æ‚
- å‡½æ•°é•¿åº¦æœ€å¥½ä¸è¶…è¿‡20è¡Œ
- æ¯ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹
- ä½¿ç”¨å•ä¸€å‡ºå£åŸåˆ™ï¼ˆå°½å¯èƒ½åªæœ‰ä¸€ä¸ªreturnè¯­å¥ï¼‰
- æ¯ä¸ªå‡½æ•°åº”è¯¥æœ‰æ˜ç¡®çš„èŒè´£å’Œè¿”å›å€¼

### å‡½æ•°å‚æ•°é¡ºåº
```python
# æ¨èé¡ºåºï¼šå¿…è¦å‚æ•° â†’ é»˜è®¤å‚æ•° â†’ å¯å˜å‚æ•° â†’ å…³é”®å­—å¯å˜å‚æ•°
def func(required_param1, required_param2, default_param=default_value, *args, **kwargs):
    pass
```

### ä½¿ç”¨é»˜è®¤å‚æ•°å’Œå…³é”®å­—å‚æ•°
```python
def create_user(name, email, age=18, is_admin=False):
    return {
        "name": name,
        "email": email,
        "age": age,
        "is_admin": is_admin
    }

# è°ƒç”¨æ—¶ä½¿ç”¨å…³é”®å­—å‚æ•°æé«˜å¯è¯»æ€§
create_user("å¼ ä¸‰", "zhangsan@example.com", age=25)
```

### ä½¿ç”¨ç±»å‹æç¤º
```python
# Python 3.9+ åŸç”Ÿç±»å‹æ³¨è§£
def process_items(items: list[str], threshold: int = 10) -> dict[str, int]:
    """å¤„ç†å­—ç¬¦ä¸²åˆ—è¡¨å¹¶è¿”å›é•¿åº¦ç»Ÿè®¡"""
    result = {}
    for item in items:
        if len(item) > threshold:
            result[item] = len(item)
    return result

# Python 3.10+ ç±»å‹è”åˆ
def get_user_id(user: str | int) -> int:
    """è·å–ç”¨æˆ·IDï¼Œæ”¯æŒå­—ç¬¦ä¸²å’Œæ•´æ•°è¾“å…¥"""
    if isinstance(user, str):
        return int(user)
    return user
```

### ä½¿ç”¨è£…é¥°å™¨
```python
import time
from functools import wraps
from typing import Callable, Any

# æµ‹é‡å‡½æ•°æ‰§è¡Œæ—¶é—´çš„è£…é¥°å™¨
def timing_decorator(func: Callable[..., Any]) -> Callable[..., Any]:
    """æµ‹é‡å‡½æ•°æ‰§è¡Œæ—¶é—´çš„è£…é¥°å™¨"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"{func.__name__} æ‰§è¡Œæ—¶é—´: {end_time - start_time:.4f}ç§’")
        return result
    return wrapper

# ç¼“å­˜è£…é¥°å™¨ï¼Œé¿å…é‡å¤è®¡ç®—
from functools import lru_cache

@lru_cache(maxsize=128)
def fibonacci(n: int) -> int:
    """è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½¿ç”¨ç¼“å­˜ä¼˜åŒ–"""
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

# å®é™…åº”ç”¨ï¼šç™»å½•éªŒè¯è£…é¥°å™¨
def requires_login(func: Callable) -> Callable:
    """éœ€è¦ç™»å½•çš„è£…é¥°å™¨"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        if not is_logged_in():
            return "è¯·å…ˆç™»å½•"
        return func(*args, **kwargs)
    return wrapper

@requires_login
def view_dashboard():
    """æŸ¥çœ‹ä»ªè¡¨ç›˜ï¼Œéœ€è¦ç™»å½•"""
    return "ä»ªè¡¨ç›˜å†…å®¹"
```

### ä½¿ç”¨functoolså·¥å…·
```python
from functools import partial, reduce

# åå‡½æ•°ï¼šå›ºå®šéƒ¨åˆ†å‚æ•°
add_10 = partial(lambda x, y: x + y, 10)
result = add_10(5)  # è¾“å‡º: 15

# reduceï¼šå½’çº¦æ“ä½œ
from typing import List

def product(numbers: List[int]) -> int:
    return reduce(lambda x, y: x * y, numbers, 1)
```

---

## 4. å¼‚å¸¸å¤„ç†

### ç²¾ç¡®æ•è·å¼‚å¸¸
```python
try:
    with open("data.txt", "r") as f:
        content = f.read()
except FileNotFoundError:
    print("æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥è·¯å¾„")
except PermissionError:
    print("æ²¡æœ‰æƒé™è¯»å–æ–‡ä»¶")
except Exception as e:
    print(f"å‘ç”Ÿæ„å¤–é”™è¯¯: {e}")
```

### é¿å…ä½¿ç”¨è£¸éœ²çš„except
```python
# ä¸ä¼˜é›…
try:
    # ä»£ç 
    pass
except:  # æ•è·æ‰€æœ‰å¼‚å¸¸ï¼ŒåŒ…æ‹¬KeyboardInterruptç­‰
    print("å‘ç”Ÿé”™è¯¯")

# ä¼˜é›…
try:
    # ä»£ç 
    pass
except Exception as e:
    print(f"å‘ç”Ÿé”™è¯¯: {e}")
```

---

## 5. æ¨¡å—åŒ–è®¾è®¡

### åˆç†ç»„ç»‡ä»£ç 
- å°†ç›¸å…³åŠŸèƒ½ç»„ç»‡åˆ°åŒä¸€ä¸ªæ¨¡å—ä¸­
- ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰æ¥ç»„ç»‡ç›¸å…³æ¨¡å—
- éµå¾ªå•ä¸€èŒè´£åŸåˆ™
- ä½¿ç”¨ `__init__.py` æ¥æ§åˆ¶æ¨¡å—çš„å¯¼å‡º

### é¿å…å¾ªç¯å¯¼å…¥
- é‡æ„ä»£ç ï¼Œæå–å…¬å…±ä¾èµ–
- ä½¿ç”¨å»¶è¿Ÿå¯¼å…¥
- é‡æ–°ç»„ç»‡æ¨¡å—ç»“æ„

---

## 6. ä»£ç å¯è¯»æ€§

### ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
```python
# ä¸ä¼˜é›…
def f(a, b):
    c = a + b
    return c

# ä¼˜é›…
def calculate_sum(first_number: int, second_number: int) -> int:
    """è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ"""
    sum_result = first_number + second_number
    return sum_result
```

### æ·»åŠ é€‚å½“çš„æ³¨é‡Š
æ³¨é‡Šåº”è¯¥è§£é‡Š**ä¸ºä»€ä¹ˆ**è¿™æ ·åšï¼Œè€Œä¸æ˜¯è§£é‡Š**ä»£ç åœ¨åšä»€ä¹ˆ**ã€‚

```python
# ä¸ä¼˜é›…
# è®¡ç®—åœ†çš„é¢ç§¯
def calc_area(r):
    return 3.14 * r ** 2

# ä¼˜é›…
# ä½¿ç”¨Ï€çš„è¿‘ä¼¼å€¼3.14è®¡ç®—åœ†çš„é¢ç§¯ï¼Œå¹³è¡¡ç²¾åº¦å’Œæ€§èƒ½
def calculate_circle_area(radius: float) -> float:
    return 3.14 * radius ** 2
```

### ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²
```python
def create_user(name, email, age=18):
    """åˆ›å»ºæ–°ç”¨æˆ·
    
    Args:
        name (str): ç”¨æˆ·çš„çœŸå®å§“å
        email (str): ç”¨æˆ·çš„é‚®ç®±åœ°å€
        age (int, optional): ç”¨æˆ·çš„å¹´é¾„ï¼Œé»˜è®¤ä¸º18
        
    Returns:
        dict: åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„å­—å…¸
        
    Raises:
        ValueError: å½“å¹´é¾„å°äº0æˆ–å¤§äº120æ—¶æŠ›å‡º
    """
    if age < 0 or age > 120:
        raise ValueError("å¹´é¾„å¿…é¡»åœ¨0åˆ°120ä¹‹é—´")
    return {
        "name": name,
        "email": email,
        "age": age
    }
```

---

## 7. æ€§èƒ½ä¼˜åŒ–

### ä½¿ç”¨å†…ç½®å‡½æ•°å’Œåº“
Pythonçš„å†…ç½®å‡½æ•°å’Œæ ‡å‡†åº“ç»è¿‡äº†é«˜åº¦ä¼˜åŒ–ï¼Œæ¯”è‡ªå·±å®ç°çš„ç›¸åŒåŠŸèƒ½æ›´å¿«ã€‚

```python
# ä¸ä¼˜é›…
result = []
for item in some_list:
    if condition(item):
        result.append(item)

# ä¼˜é›…
result = list(filter(condition, some_list))

# æ›´å¿«çš„æ–¹å¼
result = [item for item in some_list if condition(item)]
```

### é¿å…ä¸å¿…è¦çš„è®¡ç®—
```python
# ä¸ä¼˜é›…
def process_data(data):
    for item in data:
        if expensive_calculation(item) > threshold:
            # å¤„ç†é€»è¾‘
            pass

# ä¼˜é›…
def process_data(data):
    for item in data:
        calc_result = expensive_calculation(item)
        if calc_result > threshold:
            # å¤„ç†é€»è¾‘
            pass
```

### ä½¿ç”¨æ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„
```python
# ä¸ä¼˜é›…ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨äºåˆ—è¡¨ä¸­ï¼ˆO(n)æ—¶é—´å¤æ‚åº¦ï¼‰
if item in my_list:
    # å¤„ç†é€»è¾‘
    pass

# ä¼˜é›…ï¼šä½¿ç”¨é›†åˆï¼ˆO(1)æ—¶é—´å¤æ‚åº¦ï¼‰
my_set = set(my_list)
if item in my_set:
    # å¤„ç†é€»è¾‘
    pass
```

---

## 8. ä¸Šä¸‹æ–‡ç®¡ç†å™¨

### ä½¿ç”¨withè¯­å¥
```python
# ä¸ä¼˜é›…
file = open("data.txt", "r")
try:
    content = file.read()
finally:
    file.close()

# ä¼˜é›…
with open("data.txt", "r") as file:
    content = file.read()
```

### è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨
```python
import time

class Timer:
    def __enter__(self):
        self.start_time = time.time()
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        self.end_time = time.time()
        print(f"æ‰§è¡Œæ—¶é—´: {self.end_time - self.start_time:.4f}ç§’")

# ä½¿ç”¨
with Timer():
    # è€—æ—¶æ“ä½œ
    time.sleep(1)
```

---

## 9. æµ‹è¯•ä½ çš„ä»£ç 

### å•å…ƒæµ‹è¯•
ä½¿ç”¨ `unittest` æˆ– `pytest` æ¡†æ¶ç¼–å†™å•å…ƒæµ‹è¯•ã€‚

```python
import pytest

def test_calculate_sum():
    """æµ‹è¯•è®¡ç®—å’Œå‡½æ•°"""
    assert calculate_sum(1, 2) == 3
    assert calculate_sum(-1, 1) == 0
    assert calculate_sum(0, 0) == 0

# å‚æ•°åŒ–æµ‹è¯•
@pytest.mark.parametrize("a, b, expected", [(1, 2, 3), (-1, 1, 0), (0, 0, 0)])
def test_calculate_sum_parametrized(a, b, expected):
    """å‚æ•°åŒ–æµ‹è¯•è®¡ç®—å’Œå‡½æ•°"""
    assert calculate_sum(a, b) == expected
```

### ä»£ç è¦†ç›–ç‡
ä½¿ç”¨ `coverage` å·¥å…·ç¡®ä¿æµ‹è¯•è¦†ç›–äº†å¤§éƒ¨åˆ†ä»£ç ã€‚

```bash
coverage run -m pytestoverage report -m
```

---

## 10. ä»£ç è´¨é‡å·¥å…·

### é™æ€ä»£ç åˆ†æ
- **flake8**ï¼šæ£€æŸ¥PEP 8è§„èŒƒå’Œå¸¸è§é”™è¯¯
- **pylint**ï¼šå…¨é¢çš„ä»£ç è´¨é‡æ£€æŸ¥
- **mypy**ï¼šé™æ€ç±»å‹æ£€æŸ¥

### ä»£ç æ ¼å¼åŒ–
- **black**ï¼šè‡ªåŠ¨ä»£ç æ ¼å¼åŒ–
- **isort**ï¼šè‡ªåŠ¨æ’åºå¯¼å…¥è¯­å¥

### ä½¿ç”¨æ–¹å¼
```bash
# æ ¼å¼åŒ–ä»£ç 
black .
isort .

# æ£€æŸ¥ä»£ç 
flake8 .
pylint .
mypy .
```

---

## 11. æŒç»­å­¦ä¹ 

Pythonç”Ÿæ€ç³»ç»Ÿåœ¨ä¸æ–­å‘å±•ï¼Œæ–°çš„åº“å’Œæœ€ä½³å®è·µä¸æ–­æ¶Œç°ã€‚

- é˜…è¯»ä¼˜ç§€çš„å¼€æºä»£ç 
- å‚åŠ Pythonç¤¾åŒºæ´»åŠ¨
- å…³æ³¨Pythonç›¸å…³çš„åšå®¢å’Œå…¬ä¼—å·
- å®šæœŸæ›´æ–°ä½ çš„çŸ¥è¯†
- å­¦ä¹ Pythonçš„æ–°ç‰¹æ€§

---

## ğŸ“ æ€»ç»“

å†™å‡ºä¼˜é›…çš„Pythonä»£ç éœ€è¦ï¼š

1. éµå¾ªPEP 8è§„èŒƒ
2. å……åˆ†åˆ©ç”¨Pythonç‰¹æ€§
3. è®¾è®¡æ¸…æ™°ã€ç®€æ´çš„å‡½æ•°
4. åˆç†å¤„ç†å¼‚å¸¸
5. é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡
6. æ³¨é‡ä»£ç å¯è¯»æ€§
7. è¿›è¡Œæ€§èƒ½ä¼˜åŒ–
8. ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨
9. ç¼–å†™å…¨é¢çš„æµ‹è¯•
10. ä½¿ç”¨ä»£ç è´¨é‡å·¥å…·
11. æŒç»­å­¦ä¹ å’Œæ”¹è¿›

ä¼˜é›…çš„ä»£ç ä¸ä»…æ˜“äºé˜…è¯»å’Œç»´æŠ¤ï¼Œè¿˜èƒ½æé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2026-01-06
**ç‰ˆæœ¬**ï¼š1.0.0
